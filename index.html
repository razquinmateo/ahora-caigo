<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ahora Caigo - Minijuego</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="icon" type="image/png" href="assets/favicon.png" />
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  </head>
  <body class="bg-dark text-white">
    <div class="container py-5">
      <!-- Pantalla inicial: nombre del jugador -->
      <div id="pantalla-inicial" class="text-center">
        <h1 class="mb-4">¡Bienvenido a Ahora Caigo!</h1>

        <div class="alert alert-info text-start w-75 mx-auto mb-4">
          <h5>📜 Cómo jugar:</h5>
          <ul class="mb-0">
            <li>
              Una vez que ingreses tu nombre, ingresaras al juego y deberas dar
              click en <strong>Iniciar Ronda</strong> para comenzar a jugar.
            </li>
            <li>
              Cada ronda recibirás una <strong>pista</strong> y deberás escribir
              la <strong>respuesta correcta</strong> y presionar enter para
              enviarla.
            </li>
            <li>
              Tienes <strong>30 segundos</strong> para responder cada ronda. ¡El
              tiempo vuela!
            </li>
            <li>
              Comienzas con <strong>3 vidas</strong>. Si no respondes a tiempo,
              pierdes una vida.
            </li>
            <li>
              Si completas las <strong>10 rondas</strong>, recibirás
              <strong>100 puntos</strong> más <strong>25 puntos</strong> por
              cada vida restante.
            </li>
            <li>
              Tu nombre se guardará y tu puntaje se sumará si juegas varias
              veces.
            </li>
          </ul>
          <p class="mb-0">
            <strong
              >¡Intenta completar todas las rondas y conviértete en un maestro
              del conocimiento! 🎓</strong
            >
          </p>
        </div>

        <input
          type="text"
          id="nombre-jugador"
          class="form-control w-50 mx-auto mb-3"
          placeholder="Ingresa tu nombre"
        />
        <button id="btn-iniciar-juego" class="btn btn-primary">
          Iniciar juego
        </button>
      </div>

      <!-- Pantalla de juego -->
      <div id="pantalla-juego" class="d-none">
        <div
          id="mensaje-fin-juego"
          class="alert alert-danger text-center d-none"
          role="alert"
        >
          Te has quedado sin vidas. Por favor, reinicia la partida para volver a
          jugar.
        </div>
        <button id="btn-reiniciar-partida" class="btn btn-danger mt-2 d-none">
          Reiniciar partida
        </button>

        <!-- Mensaje de victoria -->
        <div
          id="mensaje-final"
          class="alert alert-success text-center d-none"
        ></div>

        <!-- Contenedor de pista -->
        <div
          id="contenedor-pista"
          class="bg-secondary text-white p-3 rounded mb-4"
        >
          <h4 class="mb-0" id="pista-texto">[Aquí aparecerá la pista]</h4>
        </div>

        <!-- Casillas de la respuesta -->
        <div
          id="casillas-respuesta"
          class="d-flex justify-content-center gap-2 mb-4"
        ></div>

        <!-- Mensaje de acierto -->
        <div
          id="mensaje-correcto"
          class="text-success fw-bold fs-4 mb-2"
          style="display: none"
        >
          ✅ ¡Correcto!
        </div>

        <!-- Curiosidad o descripción extra -->
        <div
          id="descripcion-curiosidad"
          class="text-center text-info fw-light mb-4"
          style="display: none"
        ></div>

        <!-- Temporizador -->
        <div class="text-center mb-3">
          <span>⏱️ Tiempo restante: <span id="temporizador">30</span>s</span>
        </div>

        <!-- Campo de entrada para la respuesta -->
        <div class="text-center mb-3">
          <input
            type="text"
            id="input-respuesta"
            class="form-control w-50 mx-auto"
            placeholder="Escribe tu respuesta aquí"
            disabled
          />
        </div>

        <!-- Botón para iniciar ronda -->
        <div class="text-center">
          <button id="btn-iniciar-ronda" class="btn btn-success">
            Iniciar ronda
          </button>
          <button id="btn-reintentar-ronda" class="btn btn-warning d-none">
            Reintentar ronda
          </button>
        </div>

        <!-- Footer con nombre del jugador, vidas, ronda actual, ranking y cambiar jugador -->
        <div id="footer-juego" class="bg-dark text-white rounded mt-3">
          <div class="columna">
            <div>
              <strong>Nombre:</strong> <span id="nombre-mostrado"></span>
            </div>
            <button id="btn-cambiar-jugador" class="btn btn-sm btn-danger mt-1">
              Cambiar jugador
            </button>
          </div>

          <div class="columna">
            <div id="vidas">❤️❤️❤️</div>
            <div id="ronda-actual">Ronda: 1 / 10</div>
          </div>

          <div class="columna">
            <button id="btn-ranking" class="btn btn-warning btn-sm">
              <i class="fas fa-crown"></i> Ver Ranking
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal Ranking -->
    <div
      class="modal fade"
      id="rankingModal"
      tabindex="-1"
      aria-labelledby="rankingModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content bg-dark text-white">
          <div class="modal-header">
            <h5 class="modal-title" id="rankingModalLabel">🏆 Ranking</h5>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
              aria-label="Cerrar"
            ></button>
          </div>
          <div class="modal-body">
            <table class="table table-dark table-striped">
              <thead>
                <tr>
                  <th>Jugador</th>
                  <th>Puntaje</th>
                </tr>
              </thead>
              <tbody id="tabla-ranking">
                <!-- Ejemplo inicial -->
                <tr>
                  <td>Ejemplo</td>
                  <td>0</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/main.js" type="module"></script>
  </body>
</html>
